# powerplant-coding-challenge

## Build and Run

The Application was made in Visual Studio 2022

dotnet build 
# Builds a project and all of its dependencies.

dotnet run --project PowerplantCodingChallenge 
# Runs source code and launch the Web API.

https://localhost:8888/swagger/index.html

# To view the swagger API in the web browser

dotnet test 
# .NET test driver used to execute unit tests.

## Architecture 

The application is a ASP.NET Core REST Web API 

It contains a POST Action with the endpoint /productionplan that receives a JSON as parameter
The JSON parameter is deserialize into a ProductionPlanPayload object.

Based on the cost of the fuels of each powerplant, the merit-order is calculated which is the starting point for deciding which powerplants should be switched on and how much power they will deliver.

CalculateMeritOder(ProductionPlanPayload jsonPayload) function will calculate the meritScore for each PowerPlant and return a List of PowerplantMeritOrderPair

After we have the merit score for each powerplant we use each powerplant from cheapest to most expensive cost of generating 1 MWh is euros (with Wind-turbines not consuming 'fuel' and thus are considered to generate power at zero price.)
For gas-fired powerplant each MWh generated by creates 0.3 ton of CO2 that has an additional cost of co2(euro/ton)

If available demand is less than PMin, we search for a cheaper powerplant with production cost less than the minimum cost (PMin * cost of 1 MWh in euros) of the current production plan.
If no cheaper powerplant is available we use the PMin as the cheapest alternative.

Once supply is covering all load (the amount of energy (MWh) that need to be generated during one hour) the rest of the power plants remain closed.

The endpoints calculate the ProductionPlanResponse that gets serialize into a JSON response containg the name and power delivered for each powerplant.
